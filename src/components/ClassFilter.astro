---
// Interactive class filter component using Alpine.js
---

<div 
  x-data="{
    selectedCategory: 'all',
    categories: {
      all: 'All Classes',
      traditional: 'Traditional Arts',
      selfdefense: 'Self Defense',
      professional: 'Professional Training',
      kids: 'Children\'s Classes'
    },
    classes: [
      { name: 'Ju Jutsu', category: 'traditional', image: '/images/jujutsu.jpg', href: '/ju-jutsu' },
      { name: 'Aikido', category: 'traditional', image: '/images/aikido.jpg', href: '/aikido-perth' },
      { name: 'Tai Chi', category: 'traditional', image: '/images/tai-chi.jpg', href: '/tai-chi' },
      { name: 'Self Defence', category: 'selfdefense', image: '/images/self-defence.jpg', href: '/self-defence' },
      { name: 'Self Protection', category: 'selfdefense', image: '/images/self-protection.jpg', href: '/self-protection' },
      { name: 'Corporate Training', category: 'professional', image: '/images/corporate-training-img.png', href: '/corporate-training' },
      { name: 'Security Training', category: 'professional', image: '/images/security-training.png', href: '/security-training' },
      { name: 'Children\'s Training', category: 'kids', image: '/images/kids-hero.jpg', href: '/childrens-training' }
    ],
    get filteredClasses() {
      if (this.selectedCategory === 'all') {
        return this.classes;
      }
      return this.classes.filter(cls => cls.category === this.selectedCategory);
    }
  }"
  class="w-full"
>
  <!-- Filter Tabs -->
  <div class="tabs tabs-boxed justify-center mb-8">
    <template x-for="(label, key) in categories" :key="key">
      <button 
        class="tab"
        :class="selectedCategory === key ? 'tab-active' : ''"
        @click="selectedCategory = key"
        x-text="label"
      ></button>
    </template>
  </div>

  <!-- Filtered Classes Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    <template x-for="classItem in filteredClasses" :key="classItem.name">
      <div 
        class="card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform scale-95"
        x-transition:enter-end="opacity-100 transform scale-100"
      >
        <figure class="relative">
          <img :src="classItem.image" :alt="classItem.name" class="w-full h-48 object-cover">
        </figure>
        <div class="card-body">
          <h3 class="card-title" x-text="classItem.name"></h3>
          <div class="card-actions justify-end mt-4">
            <a :href="classItem.href" class="btn btn-primary btn-sm">Learn More</a>
          </div>
        </div>
      </div>
    </template>
  </div>

  <!-- No Results Message -->
  <div x-show="filteredClasses.length === 0" class="text-center py-12">
    <div class="alert alert-info">
      <span>No classes found in this category.</span>
    </div>
  </div>
</div>